[{"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\index.js":"1","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\App.jsx":"2","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\router\\index.jsx":"3","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\publish\\Index.jsx":"4","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\details\\Index.jsx":"5","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\order\\Index.jsx":"6","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\Index.jsx":"7","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\cities\\Index.jsx":"8","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\rent\\Index.jsx":"9","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\utils\\api.js":"10","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\utils\\storage.js":"11","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\rent\\UI\\RentList.jsx":"12","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\rent\\UI\\SortBar.jsx":"13"},{"size":358,"mtime":1611275862129,"results":"14","hashOfConfig":"15"},{"size":187,"mtime":1611234390396,"results":"16","hashOfConfig":"15"},{"size":1329,"mtime":1611385306264,"results":"17","hashOfConfig":"15"},{"size":909,"mtime":1611386857248,"results":"18","hashOfConfig":"15"},{"size":3647,"mtime":1611395347731,"results":"19","hashOfConfig":"15"},{"size":926,"mtime":1611386649127,"results":"20","hashOfConfig":"15"},{"size":891,"mtime":1611276002217,"results":"21","hashOfConfig":"15"},{"size":1363,"mtime":1611301449027,"results":"22","hashOfConfig":"15"},{"size":2257,"mtime":1611389462053,"results":"23","hashOfConfig":"15"},{"size":1073,"mtime":1611387125253,"results":"24","hashOfConfig":"15"},{"size":558,"mtime":1611298200863,"results":"25","hashOfConfig":"15"},{"size":1462,"mtime":1611385456517,"results":"26","hashOfConfig":"15"},{"size":2760,"mtime":1611384130310,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1ryc6o1",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\index.js",[],["56","57"],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\App.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\router\\index.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\publish\\Index.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\details\\Index.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\order\\Index.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\Index.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\cities\\Index.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\rent\\Index.jsx",["58","59","60"],"import React, { useCallback } from 'react';\r\n//hooks 方法\r\nimport {useEffect,useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Storage from \"@/utils/storage.js\";\r\nimport {getRentList} from \"@/utils/api.js\";\r\n//组件\r\nimport SortBar from \"./UI/SortBar\";\r\nimport RentList from \"./UI/RentList\";\r\n//UI 样式\r\nimport { NavBar,WingBlank,Toast} from 'antd-mobile';\r\nimport \"./styled.less\";\r\n\r\nconst cityId = Storage.get(\"city\").id; //城市id\r\nconst Index = () => {\r\n  const [city,setCity] = useState(\"杭州\");\r\n  const [areaId,setAreaid] = useState(\"\");//区域id\r\n  const [priceRange,setPrice] = useState(\"0,50000\");//价格区间\r\n  const [sort,setSort] = useState(1); //排序规则\r\n\r\n  const [rentList,setRentList] = useState([]);//首页房屋信息列表\r\n\r\n  const his = useHistory();\r\n  useEffect(()=>{\r\n    Storage.get(\"city\") && setCity(Storage.get(\"city\").cityname)\r\n  },[])\r\n  //请求首页列表\r\n  useEffect(()=>{\r\n    (async()=>{\r\n      const res = await getRentList({cityId,areaId,price:priceRange,sort});\r\n      setRentList(res.result)\r\n    })()\r\n  },[cityId,areaId,priceRange,sort])\r\n  //重新选择城市\r\n  const toChoseCity = ()=>{\r\n    his.push(\"/city\")\r\n  }\r\n\r\n  //接收从sortBar传递的参数,改变rent请求中的依赖\r\n  const receive = useCallback((param)=>{\r\n    switch(typeof param){\r\n      case \"object\":\r\n          setPrice(param.join());\r\n          break;\r\n      case \"number\":\r\n        setAreaid(param);\r\n        break;\r\n      default:\r\n        Toast.info('暂不支持该功能', 1);\r\n    }\r\n\r\n  })\r\n  return (\r\n    <section className=\"home-city\">\r\n      <header>\r\n        <NavBar\r\n          mode=\"light\"\r\n        >{city}租房</NavBar>\r\n      </header>\r\n      {/* 搜索框 */}\r\n      <WingBlank>\r\n        <div className=\"searchWarp\">\r\n          <div onClick={toChoseCity}>{city}<span className=\"iconfont icon-common_icon_up\"></span></div>\r\n          <div>|<span className=\"iconfont icon-sousuo\"></span>请输入区域、地点或公寓名称</div>\r\n        </div>\r\n      </WingBlank>\r\n      {/* 条件过滤框 */}\r\n      <SortBar receiveParam={receive}/>\r\n      {/* 租房信息列表 */}\r\n      <RentList rentList={rentList}/>\r\n      \r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Index;","E:\\H5\\freamwork\\react.js\\r-zufang\\src\\utils\\api.js",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\utils\\storage.js",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\rent\\UI\\RentList.jsx",[],"E:\\H5\\freamwork\\react.js\\r-zufang\\src\\pages\\home\\rent\\UI\\SortBar.jsx",[],{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":19,"column":15,"nodeType":"67","messageId":"68","endLine":19,"endColumn":22},{"ruleId":"69","severity":1,"message":"70","line":33,"column":5,"nodeType":"71","endLine":33,"endColumn":36,"suggestions":"72"},{"ruleId":"69","severity":1,"message":"73","line":40,"column":19,"nodeType":"67","endLine":40,"endColumn":30},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"no-unused-vars","'setSort' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has an unnecessary dependency: 'cityId'. Either exclude it or remove the dependency array. Outer scope values like 'cityId' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["76"],"React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?","no-global-assign","no-unsafe-negation",{"desc":"77","fix":"78"},"Update the dependencies array to be: [areaId, priceRange, sort]",{"range":"79","text":"80"},[1029,1060],"[areaId, priceRange, sort]"]